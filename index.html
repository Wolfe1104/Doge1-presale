<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doge1 Presale</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Orbitron', sans-serif;
            background: #1a1a1a; /* Fallback color instead of large image */
            color: #E0E0E0;
            line-height: 1.6;
            transition: none; /* Remove transitions for faster rendering */
        }
        a { color: #00BFFF; text-decoration: none; }
        a:hover { text-decoration: underline; }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: #000; /* Simplified background */
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            border-bottom: 2px solid #00BFFF;
            height: 60px;
        }
        .logo-container {
            display: flex;
            align-items: center;
        }
        .logo {
            width: 40px;
            height: 40px;
            background: url('logo.webp') no-repeat;
            background-size: cover;
        }
        .logo-text {
            font-size: 18px;
            font-weight: bold;
            color: #00BFFF;
            margin-left: 10px;
        }
        .dropdown {
            position: relative;
        }
        .hamburger {
            font-size: 24px;
            color: #00BFFF;
            cursor: pointer;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            min-width: 160px;
            border: 1px solid #00BFFF;
            border-radius: 4px;
        }
        .dropdown:hover .dropdown-content {
            display: block;
        }
        .dropdown-content a {
            color: #E0E0E0;
            padding: 10px 15px;
            display: block;
            font-size: 14px;
        }
        .dropdown-content a:hover {
            color: #00BFFF;
            background: rgba(0, 191, 255, 0.2);
        }

        #hero {
            text-align: center;
            padding: 100px 20px 40px;
            background: #111; /* Simplified background */
            border: 2px solid #00BFFF;
            border-radius: 8px;
            margin: 20px auto;
            max-width: 900px;
            position: relative;
            z-index: 1;
        }
        #hero h1 {
            font-size: 48px;
            margin: 0 0 15px;
            line-height: 1.1;
        }
        #hero .breaking { color: #00BFFF; display: block; font-size: 32px; }
        #hero .doge { color: #00FF00; display: inline; font-size: 48px; }
        #hero .bites { color: #00BFFF; display: block; font-size: 48px; }
        #hero h2 { font-size: 24px; margin: 0 0 15px; font-style: italic; }
        #hero p { font-size: 18px; margin: 0 0 20px; }

        .cta-button {
            background: #00BFFF;
            color: #000;
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            font-family: 'Orbitron', sans-serif;
            border-radius: 5px;
            cursor: pointer;
            text-transform: uppercase;
        }
        .cta-button:hover {
            background: #00FFFF;
        }
        #connectionStatus {
            margin-top: 10px;
            font-size: 14px;
            color: #FFD700;
        }

        #presale {
            background: #222; /* Simplified background */
            padding: 60px 20px;
            max-width: 900px;
            margin: 20px auto;
            border: 2px solid #00BFFF;
            border-radius: 8px;
            position: relative;
        }
        #presale h3 {
            color: #FFD700;
            font-size: 36px;
            margin-bottom: 30px;
            text-align: center;
        }
        .slider-container {
            position: relative;
            width: 100%;
            max-width: 860px;
            margin: 0 auto;
            overflow: hidden;
        }
        .slider-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
            touch-action: pan-y;
        }
        .presale-box {
            min-width: 280px;
            width: 280px;
            height: 180px;
            margin: 0 10px;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #00BFFF;
            border-radius: 8px;
            padding: 15px;
            flex-shrink: 0;
        }
        .presale-box.current {
            border: 2px solid #FFD700;
        }
        .presale-box.past { opacity: 0.7; }
        .presale-box.future { opacity: 0.8; }
        .presale-box h4 {
            color: #00BFFF;
            font-size: 16px;
            margin: 0 0 10px;
        }
        .presale-box p {
            font-size: 14px;
            color: #E0E0E0;
            margin: 5px 0;
        }
        .stage-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #FFD700;
            color: #000;
            font-size: 12px;
            padding: 5px 8px;
            border-radius: 50%;
        }
        .progress-bar {
            width: 100%;
            height: 6px;
            background: #333;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }
        .progress-fill {
            height: 100%;
            background: #00BFFF;
            transition: width 0.3s ease;
        }
        .arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 24px;
            color: #00BFFF;
            background: rgba(0, 0, 0, 0.7);
            border: none;
            padding: 8px 12px;
            cursor: pointer;
            z-index: 10;
        }
        .arrow.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .arrow.left { left: 0; }
        .arrow.right { right: 0; color: #FF0000; }
        .arrow:hover:not(.disabled) { color: #FFFFFF; }

        @media (max-width: 768px) {
            .presale-box { min-width: 260px; width: 260px; }
            .slider-container { max-width: 540px; }
            .arrow { font-size: 20px; padding: 6px 10px; }
            #presale h3 { font-size: 28px; }
        }
        @media (max-width: 480px) {
            .presale-box { min-width: 240px; width: 240px; }
            .slider-container { max-width: 260px; }
            .arrow { font-size: 18px; padding: 5px 8px; }
            #presale h3 { font-size: 24px; }
        }

        section:not(#presale) {
            padding: 60px 20px;
            max-width: 900px;
            margin: 20px auto;
            border: 2px solid #00BFFF;
            border-radius: 8px;
            position: relative;
            background: #222; /* Simplified background */
        }
        h3 {
            font-size: 36px;
            color: #00BFFF;
            text-align: center;
            margin-bottom: 20px;
        }
        h4 {
            font-size: 20px;
            font-style: italic;
            text-align: center;
            margin: 0 0 30px;
        }
        .token-doge {
            color: #00FF00;
        }

        #about, #moonshot, #tokenomics, #roadmap, #how-to-buy, #faq {
            background: #222; /* Consistent simplified background */
        }
        #about p, #moonshot p { font-size: 18px; line-height: 1.8; }
        #moonshot h3, #roadmap h3, #how-to-buy h3, #faq h3 { color: #FFD700; }
        #how-to-buy h4:not(.how-to-buy-item h4) { color: #E0E0E0; }
        .how-to-buy-item, .roadmap-item, .faq-item {
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #00BFFF;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }
        .how-to-buy-item h4, .roadmap-item h4, .faq-item h4 {
            color: #00BFFF;
            font-size: 18px;
            margin: 0 0 10px;
            text-align: left;
            font-style: normal;
        }
        .how-to-buy-item p, .roadmap-item p, .faq-item p {
            font-size: 14px;
            margin: 0;
            line-height: 1.5;
        }
        #how-to-buy .bonus-tip {
            font-size: 14px;
            font-style: italic;
            margin-top: 20px;
            border: 1px dashed #8247E5;
            padding: 10px;
            background: rgba(130, 71, 229, 0.1);
            border-radius: 8px;
        }
        #how-to-buy .cta-button {
            margin: 30px auto 0;
            display: block;
            width: 200px;
        }
        #faq h3 { font-size: 36px; }

        /* Loading Indicator */
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            transition: opacity 0.5s;
        }
        #loading.hidden {
            opacity: 0;
            pointer-events: none;
        }
        #loading span {
            color: #00BFFF;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div id="loading"><span>Loading...</span></div>

    <header>
        <div class="logo-container">
            <div class="logo"></div>
            <div class="logo-text">DOGE1</div>
        </div>
        <div class="dropdown">
            <div class="hamburger">☰</div>
            <div class="dropdown-content">
                <a href="#hero">Hero</a>
                <a href="#presale">Presale</a>
                <a href="#about">About the Coin</a>
                <a href="#moonshot">100x Moonshot</a>
                <a href="#tokenomics">Tokenomics</a>
                <a href="#roadmap">Roadmap</a>
                <a href="#how-to-buy">How to Buy</a>
                <a href="#faq">FAQ</a>
                <a href="whitepaper.pdf">Whitepaper</a>
            </div>
        </div>
    </header>

    <section id="hero">
        <h1>
            <span class="breaking">BREAKING THE CHAINS</span>
            <span class="doge"><span class="token-doge">$DOGE1</span></span>
            <span class="bites">BITES BACK!</span>
        </h1>
        <h2>Awaken the Jedi—Join the Force!</h2>
        <p>The Countdown Has Begun—This Offer Is Only Available for a Limited Time, Don’t Let It Pass, BUY!</p>
        <button class="cta-button" onclick="connectWallet()">JOIN THE FORCE</button>
        <div id="connectionStatus"></div>
    </section>

    <section id="presale">
        <h3>Presale: The Jedi Uprising</h3>
        <div class="slider-container">
            <button class="arrow left" id="leftArrow" onclick="slideLeft()">⟵</button>
            <div class="slider-track" id="sliderTrack">
                <div class="presale-box current stage-1">
                    <h4>The Force Awakens</h4>
                    <p>Price: <span class="token-doge">$0.00050</span></p>
                    <p>Goal: $12,500</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 50%;"></div></div>
                    <span class="stage-badge">Stage 1</span>
                </div>
                <div class="presale-box future stage-2">
                    <h4>Rebels Assemble</h4>
                    <p>Price: <span class="token-doge">$0.00062</span></p>
                    <p>Goal: $14,880</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 2</span>
                </div>
                <div class="presale-box future stage-3">
                    <h4>Lightsaber Ignition</h4>
                    <p>Price: <span class="token-doge">$0.00077</span></p>
                    <p>Goal: $17,710</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 3</span>
                </div>
                <div class="presale-box future stage-4">
                    <h4>Hyperspace Preparation</h4>
                    <p>Price: <span class="token-doge">$0.00095</span></p>
                    <p>Goal: $20,900</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 4</span>
                </div>
                <div class="presale-box future stage-5">
                    <h4>Jedi Training Complete</h4>
                    <p>Price: <span class="token-doge">$0.00118</span></p>
                    <p>Goal: $24,780</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 5</span>
                </div>
                <div class="presale-box future stage-6">
                    <h4>The Rebellion Grows</h4>
                    <p>Price: <span class="token-doge">$0.00146</span></p>
                    <p>Goal: $29,200</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 6</span>
                </div>
                <div class="presale-box future stage-7">
                    <h4>Force Momentum Builds</h4>
                    <p>Price: <span class="token-doge">$0.00181</span></p>
                    <p>Goal: $34,390</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 7</span>
                </div>
                <div class="presale-box future stage-8">
                    <h4>Galactic Resistance Rises</h4>
                    <p>Price: <span class="token-doge">$0.00224</span></p>
                    <p>Goal: $40,320</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 8</span>
                </div>
                <div class="presale-box future stage-9">
                    <h4>Warp Speed Engaged</h4>
                    <p>Price: <span class="token-doge">$0.00278</span></p>
                    <p>Goal: $47,260</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 9</span>
                </div>
                <div class="presale-box future stage-10">
                    <h4>Jedi Strike Force</h4>
                    <p>Price: <span class="token-doge">$0.00344</span></p>
                    <p>Goal: $55,040</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 10</span>
                </div>
                <div class="presale-box future stage-11">
                    <h4>Hyperspace Breakthrough</h4>
                    <p>Price: <span class="token-doge">$0.00426</span></p>
                    <p>Goal: $63,900</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 11</span>
                </div>
                <div class="presale-box future stage-12">
                    <h4>The Final Countdown</h4>
                    <p>Price: <span class="token-doge">$0.00527</span></p>
                    <p>Goal: $73,780</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 12</span>
                </div>
                <div class="presale-box future stage-13">
                    <h4>Moonshot Ignition</h4>
                    <p>Price: <span class="token-doge">$0.01000</span></p>
                    <p>Goal: $130,000</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                    <span class="stage-badge">Stage 13</span>
                </div>
            </div>
            <button class="arrow right" id="rightArrow" onclick="slideRight()">⟶</button>
        </div>
    </section>

    <section id="about">
        <h3>About the Coin</h3>
        <p><span class="token-doge">$DOGE1</span> is a little ruff around the edges—the Jedi of justice in a memecoin galaxy. Forged with cutting-edge tech on the Polygon network, <span class="token-doge">$DOGE1</span> blasts light years ahead of rival meme coins with low fees and warp-speed transactions. Powered by xAI’s latest analytical breakthroughs, it’s preprogrammed for a warp-speed 100x post-launch—token burns, a masterful presale, and strategic fund allocation fuel its pure force-driven propulsion, paving a hyperspace road to the stars!</p>
    </section>

    <section id="moonshot">
        <h3>100X MOONSHOT</h3>
        <p><span class="token-doge">$DOGE1</span> is engineered for a hyperspace leap to the moons of fortune! Powered by xAI’s cutting-edge analytics, this memecoin is preprogrammed for a 100x surge post-launch. With token burns slashing supply, a 13-stage presale igniting demand, and strategic liquidity drops on DEXs and CEXs, <span class="token-doge">$DOGE1</span>’s trajectory is set to blast past the stars. The Force is strong with this one—join early to ride the galactic wave to a $0.05 valuation and beyond!</p>
    </section>

    <section id="tokenomics">
        <h3>Tokenomics</h3>
        <div class="pie-chart-container">
            <div class="pie-chart"></div>
        </div>
        <div class="pie-chart-legend">
            <div class="legend-item"><div class="legend-color" style="background: #4682B4;"></div>Presale: 25%</div>
            <div class="legend-item"><div class="legend-color" style="background: #DAA520;"></div>Liquidity: 30%</div>
            <div class="legend-item"><div class="legend-color" style="background: #2E8B57;"></div>Community Rewards: 10%</div>
            <div class="legend-item"><div class="legend-color" style="background: #483D8B;"></div>Roadmap/Development: 20%</div>
            <div class="legend-item"><div class="legend-color" style="background: #8B0000;"></div>Team: 15%</div>
        </div>
    </section>

    <section id="roadmap">
        <h3>Hyperspace Roadmap to the Stars</h3>
        <div class="roadmap-item">
            <h4>The Jedi Uprising Begins</h4>
            <p>The Force awakens—<span class="token-doge">$DOGE1</span>’s presale ignites across 13 stages, shattering meme coin chains. From $0.0005, prices warp to $0.01 as conditions trigger—xAI’s masterful analytics fuel the rise, unleashing 250M tokens into the galaxy. Join early, or miss the hyperspace jump!</p>
        </div>
        <div class="roadmap-item">
            <h4>Token Burn Ignition</h4>
            <p>Lightsabers slash—<span class="token-doge">$DOGE1</span> burns unsold or reserved tokens, tightening supply. xAI’s analytics lock in the perfect burn, propelling value toward 100x warp speed.</p>
        </div>
        <div class="roadmap-item">
            <h4>Hyperspace Launch</h4>
            <p><span class="token-doge">$DOGE1</span> hits lightspeed—DEX listings (e.g., PancakeSwap) drop with 300M liquidity tokens. Ruff rebels trade, xAI’s fund allocation ignites the warp.</p>
        </div>
        <div class="roadmap-item">
            <h4>Galactic Conquest</h4>
            <p>Jedi strike—CEX listings (e.g., Binance) and 100M community rewards rain down. <span class="token-doge">$DOGE1</span>’s 100x warp ($0.05) hits, fueled by xAI’s strategic plays.</p>
        </div>
        <div class="roadmap-item">
            <h4>Beyond the Stars</h4>
            <p><span class="token-doge">$DOGE1</span> rules—ongoing burns and xAI-driven upgrades (e.g., NFT drops) push past 100x to uncharted moons!</p>
        </div>
    </section>

    <section id="how-to-buy">
        <h3>Unleash the Force—How to Buy <span class="token-doge">$DOGE1</span></h3>
        <h4>Grab Your <span class="token-doge">$DOGE1</span> Before the Galaxy Runs Out!</h4>
        <div class="how-to-buy-item">
            <h4>Prepare Your Arsenal</h4>
            <p>Get a lightsaber-ready wallet like MetaMask or Trust Wallet. No weak centralized junk—<span class="token-doge">$DOGE1</span>’s all about freedom on the Polygon network. Install it, secure your seed phrase, and load it with MATIC—Polygon’s fuel for the fight!</p>
        </div>
        <div class="how-to-buy-item">
            <h4>Link to the Force</h4>
            <p>Hit the ‘JOIN THE FORCE’ button and connect your wallet like you’re linking hyperspace coordinates. Approve the link, and you’re in the <span class="token-doge">$DOGE1</span> cockpit.</p>
        </div>
        <div class="how-to-buy-item">
            <h4>Choose Your Power</h4>
            <p>Pick how much <span class="token-doge">$DOGE1</span> you’re snagging—starts at $0.0005, warps to $0.01 across 13 stages on Polygon. Enter your MATIC amount (e.g., 10 MATIC scores a stash at launch price). Double-check—no Jedi mind trick reverses this!</p>
        </div>
        <div class="how-to-buy-item">
            <h4>Unleash Your Destiny</h4>
            <p>Confirm the buy in your wallet—Polygon’s gas fees are dirt cheap, no excuses. Sign it, send it, and your <span class="token-doge">$DOGE1</span> tokens hit your wallet when the presale wraps. HODL tight, rebel!</p>
        </div>
        <p class="bonus-tip">Lost? Jump into the <span class="token-doge">$DOGE1</span> Discord or Telegram—our Jedi masters have your back. Don’t sleep—250M tokens won’t last on Polygon’s hyperspace lanes!</p>
        <button class="cta-button" onclick="connectWallet()">JOIN THE FORCE</button>
        <div id="connectionStatus"></div>
    </section>

    <section id="faq">
        <h3>Frequently Asked Questions</h3>
        <div class="faq-item">
            <h4>What is <span class="token-doge">$DOGE1</span>?</h4>
            <p><span class="token-doge">$DOGE1</span> is a memecoin on the Polygon network, designed with xAI’s analytics for a 100x moonshot, blending low fees with high-speed transactions.</p>
        </div>
        <div class="faq-item">
            <h4>How does the 100x moonshot work?</h4>
            <p>xAI’s preprogrammed strategy includes token burns, a 13-stage presale, and strategic listings to drive <span class="token-doge">$DOGE1</span>’s value from $0.0005 to $0.05 or higher.</p>
        </div>
        <div class="faq-item">
            <h4>Why choose Polygon network?</h4>
            <p>Polygon offers lightning-fast transactions and minimal fees, making <span class="token-doge">$DOGE1</span> accessible and efficient for all galactic investors.</p>
        </div>
        <div class="faq-item">
            <h4>When can I purchase <span class="token-doge">$DOGE1</span>?</h4>
            <p>The presale is live now in 13 stages—join early to secure the lowest price before the hyperspace launch!</p>
        </div>
        <div class="faq-item">
            <h4>Which wallets are compatible?</h4>
            <p>Use MetaMask, Trust Wallet, or any wallet compatible with Polygon to join the <span class="token-doge">$DOGE1</span> rebellion.</p>
        </div>
        <div class="faq-item">
            <h4>What happens to unsold tokens?</h4>
            <p>Unsold tokens are burned post-presale, tightening supply and boosting value, per xAI’s strategy.</p>
        </div>
        <div class="faq-item">
            <h4>Are there community incentives?</h4>
            <p>Yes, 10% of tokens fuel rewards—100M <span class="token-doge">$DOGE1</span> will be distributed to the community after launch.</p>
        </div>
        <div class="faq-item">
            <h4>How secure is <span class="token-doge">$DOGE1</span>?</h4>
            <p>Built on Polygon’s robust network and backed by xAI’s analytics, <span class="token-doge">$DOGE1</span> offers strong security in the memecoin galaxy.</p>
        </div>
        <div class="faq-item">
            <h4>Can I trade <span class="token-doge">$DOGE1</span> after presale?</h4>
            <p>Yes, <span class="token-doge">$DOGE1</span> will be listed on DEXs like PancakeSwap post-launch, followed by CEXs like Binance.</p>
        </div>
        <div class="faq-item">
            <h4>What’s the total token supply?</h4>
            <p>Total supply starts at 1 billion <span class="token-doge">$DOGE1</span>, with burns reducing it over time to fuel the moonshot.</p>
        </div>
    </section>

    <!-- Web3Modal v2 Libraries (Async for Faster Initial Load) -->
    <script src="https://cdn.jsdelivr.net/npm/@wagmi/core@2.12.7/dist/index.umd.js" async></script>
    <script src="https://cdn.jsdelivr.net/npm/viem@2.21.7/dist/index.umd.js" async></script>
    <script src="https://cdn.jsdelivr.net/npm/@web3modal/ethereum@2.7.1/dist/index.umd.js" async></script>

    <!-- Optimized Scripts -->
    <script>
        // Hide loading indicator once critical content is ready
        window.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                document.getElementById('loading').classList.add('hidden');
            }, 500); // Adjust delay based on testing
        });

        // Wallet Connection (Initialized After Scripts Load)
        let wagmiConfig, openModal;
        document.addEventListener('DOMContentLoaded', () => {
            const checkLibs = setInterval(() => {
                if (typeof WagmiCore !== 'undefined' && typeof Web3ModalEthereum !== 'undefined') {
                    clearInterval(checkLibs);
                    const chains = [{
                        id: 137,
                        name: 'Polygon Mainnet',
                        network: 'polygon',
                        nativeCurrency: { name: 'MATIC', symbol: 'MATIC', decimals: 18 },
                        rpcUrls: { default: { http: ['https://polygon-rpc.com'] } }
                    }];

                    wagmiConfig = WagmiCore.createConfig({
                        chains,
                        transports: { 137: WagmiCore.http() },
                        connectors: [
                            Web3ModalEthereum.WalletConnectConnector({ chains, options: { projectId: 'YOUR_PROJECT_ID' } }),
                            Web3ModalEthereum.InjectedConnector({ chains })
                        ]
                    });

                    const { open, close } = Web3ModalEthereum.createWeb3Modal({
                        wagmiConfig,
                        projectId: 'YOUR_PROJECT_ID', // Replace with your WalletConnect Project ID
                        themeMode: 'dark'
                    });
                    openModal = open;
                }
            }, 100);
        });

        async function connectWallet() {
            const statusElement = document.getElementById('connectionStatus');
            if (!statusElement) return console.error("Status element missing");
            statusElement.textContent = 'Connecting...';
            try {
                if (!wagmiConfig || !openModal) throw new Error("Wallet libraries not loaded yet");
                await openModal();
                const provider = await wagmiConfig.connectors[0].connect();
                const chainId = await WagmiCore.getChainId();
                if (chainId !== 137) {
                    statusElement.textContent = 'Switching to Polygon...';
                    await WagmiCore.switchChain({ chainId: 137 });
                }
                const address = provider.accounts[0];
                statusElement.textContent = `Wallet connected: ${address.substring(0, 6)}...`;
                console.log("Connected address:", address);
            } catch (error) {
                statusElement.textContent = 'Failed to connect';
                console.error("Connection error:", error.message);
                if (error.message.includes("WalletConnect")) {
                    statusElement.textContent += ' - Get a Project ID from walletconnect.com';
                }
            }
        }

        // Optimized Slider
        const sliderTrack = document.getElementById('sliderTrack');
        const leftArrow = document.getElementById('leftArrow');
        const rightArrow = document.getElementById('rightArrow');
        const boxes = document.querySelectorAll('.presale-box');
        let currentIndex = Array.from(boxes).findIndex(box => box.classList.contains('current')) || 0;
        let visibleBoxes = window.innerWidth > 768 ? 3 : window.innerWidth > 480 ? 2 : 1;

        function updateSlider() {
            const boxWidth = 300; // Fixed width for consistency, adjust if needed
            const maxIndex = boxes.length - visibleBoxes;
            currentIndex = Math.max(0, Math.min(currentIndex, maxIndex));
            sliderTrack.style.transform = `translateX(${-currentIndex * boxWidth}px)`;
            leftArrow.classList.toggle('disabled', currentIndex === 0);
            rightArrow.classList.toggle('disabled', currentIndex >= maxIndex);
        }

        function slideLeft() {
            if (currentIndex > 0) {
                currentIndex--;
                updateSlider();
            }
        }

        function slideRight() {
            if (currentIndex < boxes.length - visibleBoxes) {
                currentIndex++;
                updateSlider();
            }
        }

        let touchStartX = 0, touchCurrentX = 0, isDragging = false;
        sliderTrack.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            isDragging = true;
            sliderTrack.style.transition = 'none';
        });

        sliderTrack.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            touchCurrentX = e.touches[0].clientX;
            const diffX = touchCurrentX - touchStartX;
            const boxWidth = 300;
            sliderTrack.style.transform = `translateX(${-currentIndex * boxWidth + diffX}px)`;
            e.preventDefault();
        });

        sliderTrack.addEventListener('touchend', () => {
            if (!isDragging) return;
            isDragging = false;
            sliderTrack.style.transition = 'transform 0.5s ease-in-out';
            const diffX = touchCurrentX - touchStartX;
            const boxWidth = 300;
            if (Math.abs(diffX) > boxWidth / 3) {
                if (diffX > 0 && currentIndex > 0) currentIndex--;
                else if (diffX < 0 && currentIndex < boxes.length - visibleBoxes) currentIndex++;
            }
            updateSlider();
        });

        window.addEventListener('load', () => {
            if (boxes.length) updateSlider();
        });

        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                visibleBoxes = window.innerWidth > 768 ? 3 : window.innerWidth > 480 ? 2 : 1;
                updateSlider();
            }, 200); // Increased debounce for smoother resize
        });

        document.querySelectorAll('.dropdown-content a').forEach(anchor => {
            anchor.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = anchor.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    window.scrollTo({ top: targetElement.offsetTop - 70, behavior: 'smooth' });
                }
            });
        });
    </script>
</body>
</html>
