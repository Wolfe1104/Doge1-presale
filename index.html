<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dojiwan Doge Presale - Jedi of Justice Memecoin on Polygon</title>
    <meta name="description" content="Join the Dojiwan Doge presale on Polygon—a Jedi-inspired memecoin blending Obi-Wan Kenobi’s force with Dogecoin’s spirit. Powered by xAI for a 40x moonshot.">
    <meta name="keywords" content="Dojiwan Doge, Jedi, memecoin, Polygon, xAI, presale, $DOJI, Obi-Wan Kenobi, Dogecoin, moonshot">
    <meta name="author" content="Dojiwan Team">
    <meta name="robots" content="index, follow">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Orbitron', sans-serif;
            background: url('https://images.unsplash.com/photo-1444703686981-a3abbc4d4fe3') no-repeat center center fixed;
            background-size: cover;
            color: #E0E0E0;
            line-height: 1.6;
        }
        a { color: #00BFFF; text-decoration: none; }
        a:hover { text-decoration: underline; }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: url('https://images.unsplash.com/photo-1538370965046-79c0d6907d47') no-repeat center / cover;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            border-bottom: 2px solid #00BFFF;
            height: 60px;
        }
        .logo-container { display: flex; align-items: center; }
        .logo { width: 40px; height: 40px; }
        .logo-text { font-size: 18px; font-weight: 700; color: #00BFFF; margin-left: 10px; }
        .dropdown { position: relative; }
        .hamburger { font-size: 24px; color: #00BFFF; cursor: pointer; }
        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            min-width: 160px;
            border: 1px solid #00BFFF;
            border-radius: 4px;
        }
        .dropdown:hover .dropdown-content { display: block; }
        .dropdown-content a {
            color: #E0E0E0;
            padding: 10px 15px;
            display: block;
            font-size: 14px;
            font-weight: 700;
        }
        .dropdown-content a:hover { color: #00BFFF; background: rgba(0, 191, 255, 0.2); }
        section {
            margin: 40px auto;
            width: 98%;
            max-width: 900px;
            border: 2px solid #00BFFF;
            border-radius: 8px;
            padding: 45px 20px;
            background-color: rgba(0, 0, 0, 0.8);
        }
        #dashboard {
            text-align: center;
            padding: 80px 20px 20px;
            margin-top: 130px;
            max-width: 500px;
            background-color: #000;
        }
        #dashboard h2 {
            font-size: 31px;
            margin: 30px 0;
            color: #FFFFFF;
            text-shadow: 0 0 10px #FFFFFF;
            animation: glowTransition 3s ease-in-out infinite;
            font-weight: 900;
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
        }
        @keyframes glowTransition {
            0% { text-shadow: 0 0 10px #FFFFFF; color: #FFFFFF; }
            33% { text-shadow: 0 0 10px #00BFFF; color: #00BFFF; }
            66% { text-shadow: 0 0 10px #00FF00; color: #00FF00; }
            100% { text-shadow: 0 0 10px #FFFFFF; color: #FFFFFF; }
        }
        #dashboard .raised, #dashboard .token-price, #dashboard .price-info, #dashboard .send-crypto, #dashboard .promo-text {
            font-size: 12px;
            margin: 20px 0;
            color: #FFFFFF;
            font-weight: 700;
        }
        #dashboard .progress-bar {
            width: 100%;
            height: 12px;
            background: #333;
            border-radius: 4px;
            overflow: hidden;
            margin: 15px auto;
            max-width: 460px;
        }
        #dashboard .progress-fill { height: 100%; background: #00BFFF; transition: width 0.3s ease; }
        #dashboard .crypto-options { display: flex; justify-content: center; gap: 15px; margin: 20px 0; }
        #dashboard .crypto-option {
            width: 40px;
            height: 40px;
            background: #333;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 14px;
            color: #E0E0E0;
            border: 2px solid transparent;
            font-weight: 700;
        }
        #dashboard .crypto-option.selected { border: 2px solid #FFD700; }
        #dashboard .purchase-button, #dashboard .copy-address {
            background: #0052FF;
            color: #FFFFFF;
            border: none;
            padding: 10px 20px;
            font-size: 14px;
            font-family: 'Orbitron', sans-serif;
            border-radius: 8px;
            cursor: pointer;
            margin: 20px auto;
            width: 100%;
            max-width: 460px;
            font-weight: 700;
            display: block;
        }
        #dashboard .purchase-button:hover { background: #555; }
        #dashboard .copy-address { background: #00BFFF; color: #000; }
        #dashboard .copy-address:hover { background: #00FFFF; }
        #dashboard .wallet-address, #dashboard .referral-code {
            width: 100%;
            max-width: 460px;
            margin: 10px auto;
            padding: 15px;
            background: #333;
            border: 1px solid #00BFFF;
            border-radius: 8px;
            color: #E0E0E0;
            font-family: 'Orbitron', sans-serif;
            font-size: 12px;
            font-weight: 700;
            display: block;
        }
        #dashboard .how-to-buy-link { font-size: 12px; color: #00BFFF; position: absolute; bottom: 5px; right: 20px; }
        #hero { text-align: center; padding: 80px 20px 20px; }
        #hero h1 { font-size: 48px; margin: 0 0 15px; font-weight: 900; }
        #hero .breaking, #hero .doji, #hero .bites { color: #00BFFF; }
        #hero h2 { font-size: 24px; margin: 0 0 15px; font-style: italic; font-weight: 700; }
        #hero p { font-size: 18px; margin: 0 0 20px; font-weight: 700; }
        .cta-button {
            background: #00BFFF;
            color: #000;
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            font-family: 'Orbitron', sans-serif;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 700;
        }
        .cta-button:hover { background: #00FFFF; }
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        .popup-content {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00BFFF;
            border-radius: 8px;
            padding: 20px;
            width: 300px;
            text-align: center;
        }
        .popup-content h3 { font-size: 24px; color: #00BFFF; margin-bottom: 20px; font-weight: 700; }
        .popup-content input, .popup-content select {
            width: 100%;
            padding: 8px;
            margin: 10px 0;
            background: #333;
            border: 1px solid #00BFFF;
            border-radius: 4px;
            color: #E0E0E0;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
        }
        .popup-content input[readonly] { background: #444; cursor: not-allowed; }
        .popup-content .buttons { display: flex; justify-content: space-between; margin-top: 20px; }
        .popup-content button {
            background: #00BFFF;
            color: #000;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
        }
        .popup-content button:hover { background: #00FFFF; }
        .popup-content .links { margin-top: 10px; font-size: 14px; font-weight: 700; }
        .popup-content .links a { color: #00BFFF; margin: 0 5px; }
        .popup-content .error { color: #FF0000; font-size: 14px; margin-top: 10px; font-weight: 700; }
        .password-container { position: relative; width: 100%; }
        .password-container input { width: 100%; padding-right: 30px; }
        .toggle-password {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #00BFFF;
            cursor: pointer;
            font-size: 16px;
        }
        #presale { padding: 40px 20px; }
        #presale h3 { color: #FFD700; font-size: 36px; text-align: center; font-weight: 900; }
        .presale-subtitle { font-size: 24px; color: #FFD700; text-align: center; margin-top: 10px; font-weight: 700; }
        .slider-container { position: relative; width: 100%; max-width: 420px; margin: 20px auto 0; overflow: hidden; }
        .slider-track { display: flex; transition: transform 0.3s ease-in-out; }
        .presale-box {
            min-width: 240px;
            width: 240px;
            height: 155px;
            margin: 0 10px;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #00BFFF;
            border-radius: 8px;
            padding: 15px;
            flex-shrink: 0;
        }
        .presale-box.current { border: 2px solid #FFD700; }
        .presale-box h4 { color: #00BFFF; font-size: 16px; margin: 0 0 10px; font-weight: 700; }
        .presale-box p { font-size: 14px; color: #E0E0E0; margin: 5px 0; font-weight: 700; }
        .progress-bar { width: 100%; height: 6px; background: #333; border-radius: 4px; overflow: hidden; margin-top: 10px; }
        .progress-fill { height: 100%; background: #00BFFF; transition: width 0.3s ease; }
        .arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 24px;
            color: #00BFFF;
            background: rgba(0, 0, 0, 0.7);
            border: none;
            padding: 8px 12px;
            cursor: pointer;
            z-index: 10;
        }
        .arrow.disabled { opacity: 0.5; cursor: not-allowed; }
        .arrow.left { left: 0; }
        .arrow.right { right: 0; color: #FF0000; }
        h3 { font-size: 36px; color: #00BFFF; text-align: center; margin: 0 0 20px; font-weight: 900; }
        h4 { font-size: 20px; font-style: italic; text-align: center; margin: 0 0 30px; font-weight: 700; }
        .token-doji { color: #00BFFF; }
        #about .crawl-container, #moonshot .crawl-container {
            perspective: 300px;
            height: 300px;
            overflow: hidden;
            position: relative;
        }
        #about .crawl-container p, #moonshot .crawl-container p {
            position: absolute;
            bottom: 0;
            width: 100%;
            text-align: center;
            transform-origin: bottom;
            transform: rotateX(20deg) translateY(500px);
            opacity: 0;
            animation: crawl 30s linear infinite;
            color: #FFFFFF;
            font-size: 23px;
            line-height: 1.8;
            font-weight: 700;
        }
        #about .crawl-container p:nth-child(2), #moonshot .crawl-container p:nth-child(2) { animation-delay: 26s; }
        @keyframes crawl {
            0% { transform: rotateX(20deg) translateY(500px); opacity: 0; }
            5% { transform: rotateX(20deg) translateY(450px); opacity: 1; }
            95% { transform: rotateX(20deg) translateY(-550px); opacity: 1; }
            100% { transform: rotateX(20deg) translateY(-600px); opacity: 0; }
        }
        #moonshot h3 { color: #FFD700; }
        #tokenomics { text-align: center; }
        .pie-chart-container { width: 300px; height: 300px; margin: 0 auto 20px; }
        .pie-chart {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(rgba(70, 130, 180, 0.7) 0% 25%, rgba(218, 165, 32, 0.7) 25% 55%, rgba(46, 139, 87, 0.7) 55% 65%, rgba(72, 61, 139, 0.7) 65% 85%, rgba(139, 0, 0, 0.7) 85% 100%);
            border: 4px solid #333333;
        }
        .pie-chart-legend {
            background: #000;
            padding: 15px;
            border: 1px solid #00BFFF;
            border-radius: 8px;
            max-width: 300px;
            margin: 0 auto;
            text-align: left;
        }
        .legend-item { display: flex; align-items: center; font-size: 16px; margin-bottom: 10px; color: #FFFFFF; font-weight: 700; }
        .legend-color { width: 16px; height: 16px; margin-right: 8px; border-radius: 50%; }
        #roadmap h3, #how-to-buy h3, #rewards h3, #faq h3 { color: #FFD700; }
        .roadmap-item, .how-to-buy-item, .reward-item, .faq-item {
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #00BFFF;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }
        .roadmap-item h4, .how-to-buy-item h4, .reward-item h4, .faq-item h4 {
            color: #00BFFF;
            font-size: 18px;
            margin: 0 0 10px;
            text-align: left;
            font-style: normal;
            font-weight: 700;
        }
        .roadmap-item p, .how-to-buy-item p, .reward-item p, .faq-item p {
            font-size: 14px;
            margin: 0;
            line-height: 1.5;
            font-weight: 700;
        }
        #how-to-buy ol { text-align: left; padding-left: 20px; font-size: 14px; }
        #how-to-buy ol li { margin-bottom: 10px; }
        #how-to-buy .cta-button { margin: 30px auto 0; display: block; width: 200px; }
        #media .media-container { display: flex; justify-content: space-around; flex-wrap: wrap; }
        .link-category { margin: 10px; }
        .link-category h4 { color: #00BFFF; font-size: 18px; margin: 10px 0; font-weight: 700; }
        .link-category ul { list-style: none; padding: 0; }
        .link-category li { margin: 5px 0; font-weight: 700; }
        .link-category a { color: #00BFFF; font-size: 16px; }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="https://www.dojiwan.com/logo.webp" alt="Dojiwan Doge Logo" class="logo">
            <div class="logo-text">DOJIWAN</div>
        </div>
        <div class="dropdown">
            <div class="hamburger">☰</div>
            <div class="dropdown-content" id="dropdownMenu">
                <a href="#" class="login-link" onclick="showLoginPopup()">Login</a>
                <a href="#dashboard">Dashboard</a>
                <a href="#hero">Hero</a>
                <a href="#presale">Presale</a>
                <a href="#about">Origins & Evolution</a>
                <a href="#tokenomics">Tokenomics</a>
                <a href="#roadmap">Roadmap</a>
                <a href="#how-to-buy">How to Buy</a>
            </div>
        </div>
    </header>

    <div class="popup" id="loginPopup">
        <div class="popup-content">
            <h3>Please Sign In</h3>
            <input type="email" id="loginEmail" placeholder="Email" required>
            <div class="password-container">
                <input type="password" id="loginPassword" placeholder="Password" required>
                <span class="toggle-password" onclick="togglePassword('loginPassword')">👁️</span>
            </div>
            <div class="links">
                <span>Need an account? <a href="#" onclick="showRegisterPopup()">Register</a></span><br>
                <a href="#" onclick="showForgotPasswordPopup()">Forgot Password?</a>
            </div>
            <div class="buttons">
                <button onclick="closeLoginPopup()">Cancel</button>
                <button onclick="handleLogin()">Continue</button>
            </div>
            <div class="error" id="loginError"></div>
        </div>
    </div>

    <div class="popup" id="registerPopup">
        <div class="popup-content">
            <h3>Register</h3>
            <input type="text" id="registerName" placeholder="Name" required>
            <input type="email" id="registerEmail" placeholder="Email" required>
            <div class="password-container">
                <input type="password" id="registerPassword" placeholder="Password" required>
                <span class="toggle-password" onclick="togglePassword('registerPassword')">👁️</span>
            </div>
            <div class="password-container">
                <input type="password" id="registerConfirmPassword" placeholder="Confirm Password" required>
                <span class="toggle-password" onclick="togglePassword('registerConfirmPassword')">👁️</span>
            </div>
            <div class="buttons">
                <button onclick="closeRegisterPopup()">Cancel</button>
                <button onclick="handleRegister()">Continue</button>
            </div>
            <div class="error" id="registerError"></div>
        </div>
    </div>

    <div class="popup" id="forgotPasswordPopup">
        <div class="popup-content">
            <h3>Forgot Password</h3>
            <input type="email" id="forgotPasswordEmail" placeholder="Email" required>
            <div class="buttons">
                <button onclick="closeForgotPasswordPopup()">Cancel</button>
                <button onclick="handleForgotPassword()">Submit</button>
            </div>
            <div class="error" id="forgotPasswordError"></div>
        </div>
    </div>

    <div class="popup" id="purchaseModal">
        <div class="popup-content">
            <h3>Purchase $DOJI</h3>
            <select id="amountSelect" onchange="updateDojiAmount()">
                <option value="10">$10.00</option>
                <option value="25">$25.00</option>
                <option value="50">$50.00</option>
            </select>
            <input type="text" id="dojiAmount" readonly placeholder="$DOJI Amount">
            <div class="buttons">
                <button onclick="closePurchaseModal()">Cancel</button>
                <button onclick="handlePurchase()">Purchase</button>
            </div>
        </div>
    </div>

    <section id="dashboard">
        <h2>$DOJI PRESALE</h2>
        <div class="raised">$12,500 USD RAISED</div>
        <div class="progress-bar">
            <div class="progress-fill" style="width: 50%;"></div>
        </div>
        <div class="token-price">1 $DOJI = $0.00050 USD</div>
        <div class="price-info">Starting Price $0.00050 Listing Price $0.02</div>
        <div class="crypto-options">
            <div class="crypto-option" data-crypto="ETH" onclick="selectCrypto('ETH')">ETH</div>
            <div class="crypto-option" data-crypto="BSC" onclick="selectCrypto('BSC')">BSC</div>
            <div class="crypto-option" data-crypto="POL" onclick="selectCrypto('POL')">POL</div>
        </div>
        <button class="purchase-button" onclick="showPurchaseOptions()">Purchase With Coinbase</button>
        <div class="send-crypto" id="sendCryptoText">Or Send ETH Here:</div>
        <div class="wallet-address" id="walletAddress">0xD780c0B3a47c3FCA0090FC2153a80d15A4F286E3</div>
        <button class="copy-address" onclick="copyAddress()">COPY ADDRESS</button>
        <div class="promo-text">Enter promo code for bonuses!</div>
        <input type="text" class="referral-code" placeholder="Enter referral code...">
        <div class="how-to-buy-link"><a href="#how-to-buy">How do I buy?</a></div>
    </section>

    <section id="hero">
        <h1><span class="breaking">BREAKING THE CHAINS</span> <span class="doji">$DOJI</span> <span class="bites">BITES BACK!</span></h1>
        <h2>Awaken the Jedi—Join the Force!</h2>
        <p>The Countdown Has Begun—Limited Time Offer!</p>
        <button class="cta-button" onclick="showLoginPopup()">JOIN THE FORCE</button>
    </section>

    <section id="presale">
        <h3>PRESALE</h3>
        <p class="presale-subtitle">STAGE 01</p>
        <div class="slider-container">
            <button class="arrow left" id="leftArrow" onclick="slideLeft()">⟵</button>
            <div class="slider-track" id="sliderTrack">
                <div class="presale-box current">
                    <h4>STAGE 01</h4>
                    <p>Price: <span class="token-doji">$0.00050</span></p>
                    <p>Goal: $12,500</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 50%;"></div></div>
                </div>
                <div class="presale-box">
                    <h4>STAGE 02</h4>
                    <p>Price: <span class="token-doji">$0.00062</span></p>
                    <p>Goal: $14,880</p>
                    <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
                </div>
            </div>
            <button class="arrow right" id="rightArrow" onclick="slideRight()">⟶</button>
        </div>
    </section>

    <section id="about">
        <h3>ORIGINS & EVOLUTION</h3>
        <div class="crawl-container">
            <p><span class="token-doji">$DOJI</span>—the Jedi of justice on Polygon. Powered by xAI, it’s set for a 40x moonshot with low fees and fast transactions.</p>
        </div>
    </section>

    <section id="tokenomics">
        <h3>TOKENOMICS</h3>
        <div class="pie-chart-container">
            <div class="pie-chart"></div>
        </div>
        <div class="pie-chart-legend">
            <div class="legend-item"><span class="legend-color" style="background: rgba(70, 130, 180, 0.7);"></span>Presale: 25%</div>
            <div class="legend-item"><span class="legend-color" style="background: rgba(218, 165, 32, 0.7);"></span>Liquidity: 30%</div>
            <div class="legend-item"><span class="legend-color" style="background: rgba(46, 139, 87, 0.7);"></span>Community: 10%</div>
            <div class="legend-item"><span class="legend-color" style="background: rgba(72, 61, 139, 0.7);"></span>Development: 20%</div>
            <div class="legend-item"><span class="legend-color" style="background: rgba(139, 0, 0, 0.7);"></span>Team: 15%</div>
        </div>
    </section>

    <section id="roadmap">
        <h3>ROADMAP</h3>
        <div class="roadmap-item">
            <h4>Presale</h4>
            <p>13-stage presale starts at $0.0005, aiming for $0.02.</p>
        </div>
        <div class="roadmap-item">
            <h4>Launch</h4>
            <p>DEX and CEX listings with token burns.</p>
        </div>
    </section>

    <section id="how-to-buy">
        <h3>HOW TO BUY <span class="token-doji">$DOJI</span></h3>
        <div class="how-to-buy-item">
            <h4>Join the Presale</h4>
            <p>Use Coinbase or send crypto to the wallet address on the Dashboard.</p>
        </div>
        <button class="cta-button" onclick="scrollToDashboard()">JOIN NOW</button>
    </section>

    <section id="media">
        <h3>MEDIA</h3>
        <div class="media-container">
            <div class="link-category">
                <h4>Social</h4>
                <ul>
                    <li><a href="https://example.com/x" target="_blank">X</a></li>
                </ul>
            </div>
        </div>
    </section>

    <script>
        // Popup Functions
        function showLoginPopup() {
            if (getUserStatus() !== 'guest') { alert('Already logged in!'); return; }
            document.getElementById('loginPopup').style.display = 'flex';
            document.getElementById('loginError').textContent = '';
        }
        function closeLoginPopup() { document.getElementById('loginPopup').style.display = 'none'; }
        function showRegisterPopup() {
            closeLoginPopup();
            document.getElementById('registerPopup').style.display = 'flex';
            document.getElementById('registerError').textContent = '';
        }
        function closeRegisterPopup() { document.getElementById('registerPopup').style.display = 'none'; }
        function showForgotPasswordPopup() {
            closeLoginPopup();
            document.getElementById('forgotPasswordPopup').style.display = 'flex';
            document.getElementById('forgotPasswordError').textContent = '';
        }
        function closeForgotPasswordPopup() { document.getElementById('forgotPasswordPopup').style.display = 'none'; }
        function showPurchaseOptions() {
            if (getUserStatus() === 'guest') { showLoginPopup(); } else {
                document.getElementById('purchaseModal').style.display = 'flex';
                updateDojiAmount();
            }
        }
        function closePurchaseModal() { document.getElementById('purchaseModal').style.display = 'none'; }
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const toggle = input.nextElementSibling;
            input.type = input.type === 'password' ? 'text' : 'password';
            toggle.textContent = input.type === 'password' ? '👁️' : '👁️‍🗨️';
        }

        // Session Management
        function getUserStatus() { return localStorage.getItem('userStatus') || 'guest'; }
        function setUserStatus(status, email = '') {
            localStorage.setItem('userStatus', status);
            if (status === 'guest') localStorage.removeItem('loggedInEmail');
            else localStorage.setItem('loggedInEmail', email);
            updateDropdown();
        }
        function updateDropdown() {
            const dropdown = document.getElementById('dropdownMenu');
            const status = getUserStatus();
            dropdown.innerHTML = status === 'guest' ? '<a href="#" class="login-link" onclick="showLoginPopup()">Login</a>' : '';
            dropdown.innerHTML += `
                <a href="#dashboard">Dashboard</a>
                <a href="#hero">Hero</a>
                <a href="#presale">Presale</a>
                <a href="#about">Origins & Evolution</a>
                <a href="#tokenomics">Tokenomics</a>
                <a href="#roadmap">Roadmap</a>
                <a href="#how-to-buy">How to Buy</a>
            `;
            if (status !== 'guest') dropdown.innerHTML += '<a href="#" onclick="logout()">Logout</a>';
            document.querySelectorAll('.dropdown-content a:not(.login-link):not([onclick="logout()"])').forEach(anchor => {
                anchor.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = anchor.getAttribute('href').substring(1);
                    window.scrollTo({ top: document.getElementById(targetId).offsetTop - 70, behavior: 'smooth' });
                });
            });
        }

        // Supabase Integration
        const SUPABASE_URL = 'https://kkmstcsnhhszqxlifndk.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtrbXN0Y3NuaGhzenF4bGlmbmRrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI4NzI5NzQsImV4cCI6MjA1ODQ0ODk3NH0.cOEiyFggpVz4MGxy8PDv_rhnZe1WVKvOPHJPhWyA9o0';

        async function handleLogin() {
            const email = document.getElementById('loginEmail').value.trim().toLowerCase();
            const password = document.getElementById('loginPassword').value;
            const error = document.getElementById('loginError');
            if (!email || !password) { error.textContent = 'Fill in all fields.'; return; }
            try {
                const response = await fetch(`${SUPABASE_URL}/rest/v1/users?select=*&email=eq.${encodeURIComponent(email)}`, {
                    method: 'GET',
                    headers: { 'Content-Type': 'application/json', 'apikey': SUPABASE_KEY, 'Authorization': `Bearer ${SUPABASE_KEY}` }
                });
                const data = await response.json();
                if (!response.ok || data.length === 0 || data[0].password !== password) {
                    error.textContent = 'Invalid email or password.';
                    return;
                }
                setUserStatus(email === 'admin' && password === 'almarae0409!' ? 'admin' : 'logged', email);
                closeLoginPopup();
                alert('Logged in successfully!');
            } catch (err) {
                error.textContent = 'Error logging in.';
                console.error(err);
            }
        }

        async function handleRegister() {
            const name = document.getElementById('registerName').value.trim();
            const email = document.getElementById('registerEmail').value.trim().toLowerCase();
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            const error = document.getElementById('registerError');
            if (!name || !email || !password || !confirmPassword) { error.textContent = 'Fill in all fields.'; return; }
            if (password !== confirmPassword) { error.textContent = 'Passwords do not match.'; return; }
            try {
                const checkResponse = await fetch(`${SUPABASE_URL}/rest/v1/users?email=eq.${encodeURIComponent(email)}`, {
                    method: 'GET',
                    headers: { 'Content-Type': 'application/json', 'apikey': SUPABASE_KEY, 'Authorization': `Bearer ${SUPABASE_KEY}` }
                });
                if ((await checkResponse.json()).length > 0) { error.textContent = 'Email already registered.'; return; }
                const response = await fetch(`${SUPABASE_URL}/rest/v1/users`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json', 'apikey': SUPABASE_KEY, 'Authorization': `Bearer ${SUPABASE_KEY}` },
                    body: JSON.stringify({ username: name, email, password })
                });
                if (!response.ok) { error.textContent = 'Error registering.'; return; }
                setUserStatus('logged', email);
                closeRegisterPopup();
                alert('Registered successfully!');
            } catch (err) {
                error.textContent = 'Error registering.';
                console.error(err);
            }
        }

        async function handleForgotPassword() {
            const email = document.getElementById('forgotPasswordEmail').value.trim().toLowerCase();
            const error = document.getElementById('forgotPasswordError');
            if (!email) { error.textContent = 'Enter your email.'; return; }
            try {
                const response = await fetch(`${SUPABASE_URL}/rest/v1/users?email=eq.${encodeURIComponent(email)}`, {
                    method: 'GET',
                    headers: { 'Content-Type': 'application/json', 'apikey': SUPABASE_KEY, 'Authorization': `Bearer ${SUPABASE_KEY}` }
                });
                if ((await response.json()).length === 0) { error.textContent = 'Email not found.'; return; }
                error.textContent = 'Reset link sent (placeholder).';
            } catch (err) {
                error.textContent = 'Error processing request.';
                console.error(err);
            }
        }

        function logout() { setUserStatus('guest'); alert('Logged out!'); }
        function scrollToDashboard() { window.scrollTo({ top: document.getElementById('dashboard').offsetTop - 70, behavior: 'smooth' }); }

        // Purchase Logic
        function updateDojiAmount() {
            const amount = document.getElementById('amountSelect').value;
            document.getElementById('dojiAmount').value = (amount / 0.00050).toFixed(2);
        }
        function handlePurchase() {
            const amount = document.getElementById('amountSelect').value;
            const urls = { "10": "https://commerce.coinbase.com/checkout/3e438303-cd73-430e-ab54-34db5be7af88", "25": "https://commerce.coinbase.com/checkout/975c09bf-bbe8-4997-8b9d-74d8dcfd8365", "50": "https://commerce.coinbase.com/checkout/975c09bf-bbe8-4997-8b9d-74d8dcfd8365" };
            window.location.href = urls[amount];
            closePurchaseModal();
        }

        // Dashboard Functions
        const cryptoAddresses = { ETH: '0xD780c0B3a47c3FCA0090FC2153a80d15A4F286E3', BSC: '0xD780c0B3a47c3FCA0090FC2153a80d15A4F286E3', POL: '0xD780c0B3a47c3FCA0090FC2153a80d15A4F286E3' };
        function selectCrypto(crypto) {
            document.querySelectorAll('.crypto-option').forEach(opt => opt.classList.remove('selected'));
            document.querySelector(`.crypto-option[data-crypto="${crypto}"]`).classList.add('selected');
            document.getElementById('sendCryptoText').textContent = `Or Send ${crypto} Here:`;
            document.getElementById('walletAddress').textContent = cryptoAddresses[crypto];
            localStorage.setItem('selectedCrypto', crypto);
        }
        function copyAddress() {
            navigator.clipboard.writeText(document.getElementById('walletAddress').textContent).then(() => {
                const btn = document.querySelector('.copy-address');
                btn.textContent = 'Copied!';
                setTimeout(() => btn.textContent = 'COPY ADDRESS', 2000);
            });
        }

        // Slider Functions
        let currentSlide = 0;
        const slides = document.querySelectorAll('.presale-box');
        function updateSlider() {
            document.getElementById('sliderTrack').style.transform = `translateX(-${currentSlide * 260}px)`;
            document.getElementById('leftArrow').classList.toggle('disabled', currentSlide === 0);
            document.getElementById('rightArrow').classList.toggle('disabled', currentSlide === slides.length - 1);
        }
        function slideLeft() { if (currentSlide > 0) { currentSlide--; updateSlider(); } }
        function slideRight() { if (currentSlide < slides.length - 1) { currentSlide++; updateSlider(); } }

        // Initialize
        window.onload = () => {
            updateDropdown();
            selectCrypto(localStorage.getItem('selectedCrypto') || 'ETH');
            updateSlider();
        };
    </script>
</body>
</html>